"use strict";Zepto(function(e){function d(){a&&""!=a?(e(".send_where").css({display:"none",color:"#888","padding-top":"0","padding-bottom":"0"}),e(".sendTitle").css({display:"block"}),e(".senddesc").css({display:"-webkit-box"}),e(".sender-name").text(a),e(".sender-number").text(i),e(".senddesc").attr("data-id",r),e(".senddesc").attr("data-provinceNo",o),e(".senddesc").attr("data-cityNo",l),e(".senddesc").attr("data-areaNo",u),e(".senddesc").text(m+C)):(e(".send_where").css({display:"block",color:"#888","padding-top":".15rem","padding-bottom":".15rem"}),e(".sendTitle").css({display:"none"}),e(".senddesc").css({display:"none"})),_&&""!=_?(e(".recp_where").css({display:"none",color:"#666;","padding-top":"0","padding-bottom":"0"}),e(".recTitle").css({display:"block"}),e(".recdesc").css({display:"-webkit-box"}),e(".recp-name").text(_),e(".recp-number").text(g),e(".recdesc").attr("data-id",h),e(".recdesc").attr("data-provinceNo",v),e(".recdesc").attr("data-cityNo",N),e(".recdesc").attr("data-areaNo",y),e(".recdesc").text(I+k)):(e(".recp_where").css({display:"block",color:"#888;","padding-top":".15rem","padding-bottom":".15rem"}),e(".recTitle").css({display:"none"}),e(".recdesc").css({display:"none"})),a&&""!=a&&_&&""!=_?e("#btn-address-submit").removeClass("disabled"):e("#btn-address-submit").addClass("disabled")}function t(d,t,s){document.addEventListener("AlipayJSBridgeReady",function(){var r={scopeNicks:["auth_logis_platform"]};"sit"==env&&(r={scopeNicks:["auth_logis_platform"],appId:"2017010904949252"}),AlipayJSBridge.call("getAuthCode",r,function(r){if(r.authcode){console.log("认证成功 "+r.authcode);!function(d,t,s,r){var a={authCode:d,addrType:s},i=jUrl+"/ep/address/service_auth";e.axs(i,a,function(e){e.meta.success&&"0000"==e.meta.code&&(console.log("tempData "+r),"AR1040"==t?"1"==r?pushWindow("send-address.html?edit=write",!0):"0"==e.result?pushWindow("send-address.html",!0):pushWindow("select-sender.html",!0):"AR1050"==t&&("2"==r?pushWindow("recipient-address.html?edit=write",!0):"0"==e.result?pushWindow("recipient-address.html",!0):pushWindow("select-recipient.html",!0)))})}(r.authcode,d,t,s)}})})}FastClick.attach(document.body),ant.call("setTitle",{title:"寄收件地址"});var s,r="",a="",i="",n="",c="",o="",l="",u="",p="",m="",C="",h="",_="",g="",b="",A="",v="",N="",y="",f="",I="",k="",w=0,S=0,D="";ant.on("resume",function(e){showLoading(),ant.getSessionData({keys:["reciptiensAddrID","recName","recNumber","recProvinceCode","recCityCode","recAreaCode","recStreet","recAddress","senderAddrID","sendName","sendNumber","sendProvinceCode","sendCityCode","sendAreaCode","sendStreet","sendAddress","serviceAuthStatus","receiverCount","senderCount","real_sendNumber","real_recNumber","real_sendName","real_recName"]},function(e){b=e.data.real_recNumber||"",n=e.data.real_sendNumber||"",c=e.data.real_sendName||"",A=e.data.real_recName||"",r=e.data.senderAddrID||"",a=e.data.sendName||"",i=e.data.sendNumber||"",o=e.data.sendProvinceCode||"",l=e.data.sendCityCode||"",u=e.data.sendAreaCode||"",p=getAreaNameByCode(u).replace(/\s/g,""),m=p,C=e.data.sendAddress||"",h=e.data.reciptiensAddrID||"",_=e.data.recName||"",g=e.data.recNumber||"",v=e.data.recProvinceCode||"",N=e.data.recCityCode||"",y=e.data.recAreaCode||"",f=getAreaNameByCode(y).replace(/\s/g,""),I=f,k=e.data.recAddress||"",S=e.data.receiverCount||0,w=e.data.senderCount||0,d(),hideLoading(),ant.setSessionData({data:{edit_senderAddrID:r,edit_sendName:c,edit_sendNumber:n,edit_sendAddress:C,edit_sendProvinceCode:o,edit_sendCityCode:l,edit_sendAreaCode:u,edit_street:m,edit_reciptiensAddrID:h,edit_recName:A,edit_recNumber:b,edit_recAddress:k,edit_recProvinceCode:v,edit_recCityCode:N,edit_recAreaCode:y,edit_recStreet:I}})}),ant.setSessionData({data:{filterCompanyId:[],productTypeId:"",productTypeName:"",presetWeight:"",presetWeightPrice:"",extraWeightUnit:"",extraWeightPrice:"",goodsOneValue:"",goodsOneIndex:"",goodstypeValue:"",dayValue:"",timeValue:"",timeDate:"",remarkContent:""}})}),showLoading(),ant.getSessionData({keys:["epCompanyId","serviceAuthStatus"]},function(x){D=x.data.epCompanyId||"",serviceAuthStatus=x.data.serviceAuthStatus||"";var W=jUrl+"/ep/address/index";e.axs(W,{},function(x){if(x.meta.success)var W=setInterval(function(){if(s={TDY:["12:00-14:00","14:00-16:00"],AFT:["08:00-10:00","10:00-12:00","12:00-14:00","14:00-16:00"],TOM:["08:00-10:00","10:00-12:00","12:00-14:00","14:00-16:00"]},iosProvinces){var P=x.result.sender,B=x.result.receiver;w=x.result.senderCount,S=x.result.receiverCount,null!=P&&(r=P.id,a=P.name,c=P.realName,i=P.mobile,n=P.realMobile,o=P.provinceCode,l=P.cityCode,u=P.districtCode,p=getAreaNameByCode(u).replace(/\s/g,""),m=p,C=P.address),null!=B&&(h=B.id,_=B.name,A=B.realName,g=B.mobile,b=B.realMobile,v=B.provinceCode,N=B.cityCode,y=B.districtCode,f=getAreaNameByCode(y).replace(/\s/g,""),I=f,k=B.address),ant.setSessionData({data:{filterCompanyId:[],senderAddrID:r,sendName:a,real_sendName:c,sendNumber:i,real_sendNumber:n,sendProvinceCode:o,sendCityCode:l,sendAreaCode:u,sendStreet:m,sendAddress:C,edit_senderAddrID:r,edit_sendName:c,edit_sendNumber:n,edit_sendAddress:C,edit_sendProvinceCode:o,edit_sendCityCode:l,edit_sendAreaCode:u,edit_street:m,reciptiensAddrID:h,recName:_,real_recName:A,recNumber:g,real_recNumber:b,recProvinceCode:v,recCityCode:N,recAreaCode:y,recStreet:I,recAddress:k,receiverCount:S,senderCount:w,edit_reciptiensAddrID:h,edit_recName:A,edit_recNumber:b,edit_recAddress:k,edit_recProvinceCode:v,edit_recCityCode:N,edit_recAreaCode:y,edit_recStreet:I}}),d(),function(d){e(".sendaddressClick").click(function(){if(BizLog.call("info",{spmId:"a106.b2100.c4586.d7092",actionId:"clicked"}),console.log("sendAddress-btn  touchend"),"0"==d)return console.log("serviceAuthStatus "+d),void t(selectSUid,"1");w>0?pushWindow("select-sender.html",!0):pushWindow("send-address.html",!0)}),e(".sendClick").click(function(){if(BizLog.call("info",{spmId:"a106.b2100.c4586.d7091",actionId:"clicked"}),console.log("sendClick  touchend"),"0"==d)return console.log("serviceAuthStatus "+d),void t(selectSUid,"1","1");pushWindow("send-address.html?edit=write")}),e(".recpaddressClick").click(function(){BizLog.call("info",{spmId:"a106.b2100.c4587.d7094",actionId:"clicked"}),"0"!=d?S>0?pushWindow("select-recipient.html",!0):pushWindow("recipient-address.html",!0):t(selectRUid,"2")}),e(".recpClick").click(function(){if(BizLog.call("info",{spmId:"a106.b2100.c4587.d7093",actionId:"clicked"}),console.log("recpClick  touchend"),"0"==d)return console.log("serviceAuthStatus "+d),void t(selectRUid,"2","2");pushWindow("recipient-address.html?edit=write")}),hideLoading()}(serviceAuthStatus),e("#btn-address-submit").click(function(){if(BizLog.call("info",{spmId:"a106.b2100.c4588.d7095",actionId:"clicked"}),y&&u)if(D){var d={logisMerchId:D,snderDstrCode:u,rcvrDstrCode:y},t=jUrl+"/ep/address/judge_comp_service_area";e.axs(t,d,function(e){"0000"==e.meta.code&&(e.result.isServicing?pushWindow("information-fill-placeorder.html",!0):pushWindow("select-express-placeOrder.html",!0))})}else pushWindow("select-express.html?isServicing=1",!0)}),hideLoading(),clearInterval(W)}},600)})}),isAndroid&&e(".express_address_book").css("border-left","1px solid #ddd")});