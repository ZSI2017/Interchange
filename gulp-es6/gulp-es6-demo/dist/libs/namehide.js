"use strict";function isRomam(str){return!isBlank(str)&&-1!="I,II,III,IV,V,VI,VII,VIII,IX,X,XI,XII,Ⅰ,Ⅱ,Ⅲ,Ⅳ,Ⅴ,Ⅵ,Ⅶ,Ⅷ,Ⅸ,Ⅹ,Ⅺ,Ⅻ".indexOf(str)}function isChinese(name){if(isBlank(name))return!1;var reg=/[\u4e00-\u9fa5]/;return console.log("isChinese  "+reg.test(name.trim())),reg.test(name.trim())}function isBlank(str){str.length;return(null==str||0==str.length)&&(console.log("isBlank true"),!0)}function customizeHide(sensitiveData,frontCharNum,tailCharNum,hiddenCharNum){if(isBlank(sensitiveData))return sensitiveData;var tmp=sensitiveData.trim(),length=tmp.length;if(frontCharNum<0||tailCharNum<0||hiddenCharNum<0||frontCharNum+tailCharNum>length)return tmp;var beginIndex=frontCharNum-1,endIndex=length-tailCharNum,result=[];beginIndex>=0&&beginIndex<length&&result.push(tmp.substring(0,frontCharNum));for(var i=0;i<hiddenCharNum;i++)result.push("*");return endIndex>=0&&endIndex<length&&result.push(tmp.substring(endIndex)),console.log("customizeHide result "+result),result.join("")}function nameHide(name){if(isBlank(name))return name;if(1==name.length)return name;if(isChinese(name)){var frontCharNum=0,tailCharNum=0,hiddenCharNum=0;return name.length<=3?(tailCharNum=name.length-1,hiddenCharNum=1):name.length>3&&name.length<=6?(tailCharNum=2,hiddenCharNum=name.length-2):(frontCharNum=1,tailCharNum=2,hiddenCharNum=3),customizeHide(name,frontCharNum,tailCharNum,hiddenCharNum)}console.log("name.trim() "+name.trim());var sName=name.trim().replace("[' ']+/g"," "),names=sName.split(" "),sb=[];if(1==names.length)sb.push(name);else for(var i=0;i<names.length;i++){if(!(i<names.length-2)){"Sr.".toLowerCase()==names[names.length-1].toLowerCase()||"Jr.".toLowerCase()==names[names.length-1].toLowerCase()||"Jun".toLowerCase()==names[names.length-1].toLowerCase()||isRomam(names[names.length-1].toUpperCase())?(sb.push(names[i]),sb.push(" "),sb.push(names[i+1])):(0!=names[i].length&&(sb.push(names[i].substring(0,1)),sb.push("."),sb.push(" ")),sb.push(names[i+1]));break}0!=names[i].length&&(sb.push(names[i].substring(0,1)),sb.push("."),sb.push(" "))}if(sb.length>0){var rStr=sb.join("");return console.log("rStr "+rStr),rStr.length>15&&(rStr="***"+rStr.substring(rStr.length-10,rStr.length)),rStr}return name}String.prototype.trim=function(){return this.replace(/(^\s+)|(\s+$)/g,"")};