"use strict";Zepto(function(e){function a(){showLoading();var a={},t=jUrl+"/ep/sender/list";e.axs(t,a,function(a){a.meta.success&&(s=a.result&&a.result.length>0?a.result.length:0,ant.setSessionData({data:{senderCount:s}}),("0000"==a.meta.code||a.meta.success)&&ant.getSessionData({keys:["senderAddrID"]},function(s){var t=s.data.senderAddrID,d=a.result,n="",i="",r="",l="";if(d&&d.length>0){e(".manage_sender_div").show(),e(".manageInfo").show(),e(".emptyInfo").hide();for(var o=0;o<d.length;o++){var c=getAreaNameByCode(d[o].districtCode).replace(/\s/g,"");n="1"==d[o].defaultStatus?"<span style='color:#f4333c;font-size: .14rem;padding-right: .06rem;'>[默认地址]</span>":"",t==d[o].id?(i='<input type="radio" checked="checked" class="sendRadio" name="sendRadio" senderAddrID="'+d[o].id+'" id="cx'+o+'" />',ant.setSessionData({data:{senderAddrID:d[o].id,sendName:d[o].name,real_sendName:d[o].realName,sendNumber:d[o].mobile,real_sendNumber:d[o].realMobile,sendProvinceCode:d[o].provinceCode,sendCityCode:d[o].cityCode,sendAreaCode:d[o].districtCode,sendStreet:c,sendAddress:d[o].address}})):i='<input type="radio" class="sendRadio" name="sendRadio" senderAddrID="'+d[o].id+'" id="cx'+o+'" />';var m=o+1;o<d.length-1?l='<label class="am-list-item check selectsender_listitem" data-spmv="a106.b2101.c4590.'+m+'" for="cx'+o+'">':o==d.length-1&&(l='<label class="am-list-item check selectsender_listitem" data-spmv="a106.b2101.c4590.'+m+'"  for="cx'+o+'">');var f=d[o].name;r+=l+'<div class="am-list-content"><div class="am-list-title selectsender_title"><label class="sendName" style="color:#999;font-size:.17rem;" send-name="'+d[o].name+'" real-sendname="'+d[o].realName+'">'+f+'</label><span class="sendNumber" style="float:right;color:#999;font-size:.17rem;" real-sendnumber="'+d[o].realMobile+'" send-number="'+d[o].mobile+'">'+d[o].mobile+'</span></div><div class="am-list-brief selectsender_content"><label class="sendBrief" style="color:#333;font-size:.14rem;"  data-provinceNo="'+d[o].provinceCode+'" data-cityNo="'+d[o].cityCode+'" data-areaNo="'+d[o].districtCode+'">'+n+'<span data-street="'+c+'" class="dataStreet" style="color:#333;font-size:.14rem;">'+c+'</span><span data-address="'+d[o].address+'" class="dataAddress" style="color:#333;font-size:.14rem;">'+d[o].address+'</span></label></div></div><div class="am-checkbox">'+i+'<span class="icon-check btn-check-send"></span></div></label>'}e(".manageInfo").html(r),hideLoading(),e(".am-list-item").click(function(){e(".am-list-item ").find("input[name='sendRadio']").attr("checked",!1),e(this).find("input[name='sendRadio']").attr("checked",!0);var a=e(this).find("input[name='sendRadio']").attr("senderAddrID"),s=e(this).find(".am-list-title .sendName").attr("send-name"),t=e(this).find(".am-list-title .sendName").attr("real-sendname"),d=e(this).find(".am-list-title .sendNumber").attr("send-number"),n=e(this).find(".am-list-title .sendNumber").attr("real-sendnumber"),i=e(this).find(".am-list-brief .sendBrief").attr("data-provinceNo"),r=e(this).find(".am-list-brief .sendBrief").attr("data-cityNo"),l=e(this).find(".am-list-brief .sendBrief").attr("data-areaNo"),o=e(this).find(".am-list-brief .dataStreet").attr("data-street"),c=e(this).find(".am-list-brief .dataAddress").attr("data-address");ant.setSessionData({data:{senderAddrID:a,sendName:s,real_sendName:t,sendNumber:d,real_sendNumber:n,sendProvinceCode:i,sendCityCode:r,sendAreaCode:l,sendStreet:o,sendAddress:c}});var m=e(".selectsender_listitem").index(this)+1;BizLog.call("info",{spmId:"a106.b2101.c4590."+m,actionId:"clicked",params:{AddrID:a}}),ant.popWindow()})}else e(".manageInfo").hide(),e(".manage_sender_div").hide(),e(".emptyInfo").show();hideLoading()}))})}FastClick.attach(document.body),ant.on("resume",function(e){a()}),ant.call("setTitle",{title:"选择寄件人地址"}),clickStatus.bind(e(".manage_sender"))(),e(".manage_sender").on("click",function(){BizLog.call("info",{spmId:"a106.b2101.c4590.d7097",actionId:"clicked"}),pushWindow("manage-sender.html",!0)}),e(".btn-sender").click(function(){BizLog.call("info",{spmId:"a106.b2101.c4591.d7098",actionId:"clicked"}),pushWindow("send-address.html",!0)});var s=0;a()});