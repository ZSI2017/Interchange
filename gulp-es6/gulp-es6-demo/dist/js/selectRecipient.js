"use strict";Zepto(function(e){function t(){showLoading();var t={},i=jUrl+"/ep/receiver/list";e.axs(i,t,function(t){("0000"==t.meta.code||t.meta.success)&&(a=t.result&&t.result.length>0?t.result.length:0,ant.setSessionData({data:{receiverCount:a}}),ant.getSessionData({keys:["reciptiensAddrID"]},function(a){var i=a.data.reciptiensAddrID,s=t.result,c="",r="",d="",n="";if(s&&s.length>0){e(".manage_receiver_div").show(),e(".manageInfoRec").show(),e(".emptyInfoRec").hide();for(var l=0;l<s.length;l++){var o=getAreaNameByCode(s[l].districtCode).replace(/\s/g,"");c="1"==s[l].defaultStatus?"<span style='color:#f4333c;font-size: .14rem;padding-right: .06rem;'>[默认地址]</span>":"",i==s[l].id?(r='<input type="radio" name="sendRadioRec"  class="sendRadioRec" checked="checked" reciptiensAddrID="'+s[l].id+'" id="cx'+l+'" />',ant.setSessionData({data:{reciptiensAddrID:s[l].id,recName:s[l].name,real_recName:s[l].realName,recNumber:s[l].mobile,real_recNumber:s[l].realMobile,recProvinceCode:s[l].provinceCode,recCityCode:s[l].cityCode,recAreaCode:s[l].districtCode,recStreet:o,recAddress:s[l].address}})):r='<input type="radio" name="sendRadioRec"  class="sendRadioRec" reciptiensAddrID="'+s[l].id+'" id="cx'+l+'" />';var m=l+1;l<s.length-1?n='<label class="am-list-item check selectsender_listitem" for="cx'+l+'" data-spmv="a106.b2125.c4685.'+m+'">':l==s.length-1&&(n='<label class="am-list-item check selectsender_listitem" for="cx'+l+'" data-spmv="a106.b2125.c4685.'+m+'">');var f=s[l].name;d+=n+'<div class="am-list-content"><div class="am-list-title selectsender_title"><label class="sendNameRec"  style="color:#999;font-size:.17rem;" send-name="'+s[l].name+'" real-sendName="'+s[l].realName+'">'+f+'</label><span class="sendNumberRec" style="float:right;color:#999;font-size:.17rem;" real-recNumber="'+s[l].realMobile+'" send-number="'+s[l].mobile+'">'+s[l].mobile+'</span></div><div class="am-list-brief selectsender_content"><label class="sendBriefRec" style="color:#333;font-size:.14rem;" data-recprovinceNo="'+s[l].provinceCode+'" data-reccityNo="'+s[l].cityCode+'" data-recareaNo="'+s[l].districtCode+'">'+c+'<span data-streetRec="'+o+'" class="dataStreetRec" style="color:#333;font-size:.14rem;">'+o+'</span><span data-addressRec="'+s[l].address+'" class="dataAddressRec" style="color:#333;font-size:.14rem;">'+s[l].address+'</span></label></div></div><div class="am-checkbox">'+r+'<span class="icon-check icon-check-Rec"></span></div></label>'}e(".manageInfoRec").html(d),e(".am-list-item ").click(function(){e(".am-list-item ").find("input[name='sendRadioRec']").attr("checked",!1),e(this).find("input[name='sendRadioRec']").attr("checked",!0);var t=e(this).find("input[name='sendRadioRec']").attr("reciptiensAddrID"),a=e(this).find(".am-list-title .sendNameRec").attr("send-name"),i=e(this).find(".am-list-title .sendNameRec").attr("real-sendName"),s=e(this).find(".am-list-title .sendNumberRec").attr("send-number"),c=e(this).find(".am-list-title .sendNumberRec").attr("real-recNumber"),r=e(this).find(".am-list-brief .sendBriefRec").attr("data-recprovinceNo"),d=e(this).find(".am-list-brief .sendBriefRec").attr("data-reccityNo"),n=e(this).find(".am-list-brief .sendBriefRec").attr("data-recareaNo"),l=e(this).find(".am-list-brief .dataStreetRec").attr("data-streetrec"),o=e(this).find(".am-list-brief .dataAddressRec").attr("data-addressrec");ant.setSessionData({data:{reciptiensAddrID:t,recName:a,real_recName:i,recNumber:s,real_recNumber:c,recProvinceCode:r,recCityCode:d,recAreaCode:n,recStreet:l,recAddress:o}});var m=e(".selectsender_listitem").index(this)+1;BizLog.call("info",{spmId:"a106.b2125.c4685."+m,actionId:"clicked",params:{AddrID:t}}),ant.popWindow()})}else e(".manageInfoRec").hide(),e(".manage_receiver_div").hide(),e(".emptyInfoRec").show();hideLoading()}))})}FastClick.attach(document.body),ant.call("setTitle",{title:"选择收件人地址"}),ant.on("resume",function(e){t()}),e(".btn-recipient").click(function(){BizLog.call("info",{spmId:"a106.b2125.c4686.d7310",actionId:"clicked"}),pushWindow("recipient-address.html",!0)}),clickStatus.bind(e(".manage_receiver"))(),e(".manage_receiver").on("click",function(){BizLog.call("info",{spmId:"a106.b2125.c4685.d7309",actionId:"clicked"}),pushWindow("manage-recipient.html",!0)});var a=0;t(),e(".select-bottom").show()});